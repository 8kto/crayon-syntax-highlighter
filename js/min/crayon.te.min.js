var jQueryCrayon=jQuery;
(function(e){e(document).ready(function(){CrayonUtil.init()});CrayonUtil=new function(){var b=this,a=null;b.init=function(){a=CrayonSyntaxSettings;b.initGET()};b.addPrefixToID=function(b){return b.replace(/^([#.])?(.*)$/,"$1"+a.prefix+"$2")};b.removePrefixFromID=function(b){return b.replace(RegExp("^[#.]?"+a.prefix,"i"),"")};b.cssElem=function(a){return e(b.addPrefixToID(a))};b.setDefault=function(a,b){return"undefined"==typeof a?b:a};b.setMax=function(a,b){return a<=b?a:b};b.setMin=function(a,b){return a>=
b?a:b};b.setRange=function(a,e,k){return b.setMax(b.setMin(a,e),k)};b.initFancybox=function(){fancyboxInit&&fancyboxInit(window,document,e,"crayonFancybox")};b.getExt=function(a){if(-1!=a.indexOf("."))return a=a.split("."),a=a.length?a[a.length-1]:""};b.initGET=function(){window.currentURL=window.location.protocol+"//"+window.location.host+window.location.pathname;window.currentDir=window.currentURL.substring(0,window.currentURL.lastIndexOf("/"));for(var a=window,b=document.location.search,b=b.split("+").join(" "),
e={},d,u=/[?&]?([^=]+)=([^&]*)/g;d=u.exec(b);)e[decodeURIComponent(d[1])]=decodeURIComponent(d[2]);a.GET=e};b.getAJAX=function(b,r){b.version=a.version;e.get(a.ajaxurl,b,r)};b.postAJAX=function(b,r){b.version=a.version;e.post(a.ajaxurl,b,r)};b.reload=function(){var a="?",b;for(b in window.GET)a+=b+"="+window.GET[b]+"&";window.location=window.currentURL+a};b.escape=function(a){return"function"==typeof encodeURIComponent?encodeURIComponent(a):"function"!=typeof escape?escape(a):a};b.log=function(b){"undefined"!=
typeof console&&a.debug&&console.log(b)};b.decode_html=function(a){return String(a).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")};b.encode_html=function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};b.getReadableColor=function(a,b){b=e.extend({amount:0.5,xMulti:1,yMulti:1.5,normalizeHue:[20,180],normalizeHueXMulti:0.4,normalizeHueYMulti:1},b);var k=tinycolor(a).toHsv(),d=k.s,u=1-k.v,d=d*b.xMulti,u=u*b.yMulti;b.normalizeHue&&(k.h>b.normalizeHue[0]&&
k.h<b.normalizeHue[1])&&(d*=b.normalizeHueXMulti,u*=b.normalizeHueYMulti);Math.sqrt(Math.pow(d,2)+Math.pow(u,2))<b.amount?k.v=0:k.v=1;k.s=0;return tinycolor(k).toHexString()};b.removeChars=function(a,b){return b.replace(RegExp("["+a+"]","gmi"),"")}};e.fn.bindFirst=function(b,a){this.bind(b,a);var e=this.data("events")[b.split(".")[0]],r=e.pop();e.splice(0,0,r)};e.keys=function(b){var a=[],e;for(e in b)a.push(e);return a};RegExp.prototype.execAll=function(b){for(var a=[],e=null;null!=(e=this.exec(b));){var r=
[],k;for(k in e)parseInt(k)==k&&r.push(e[k]);a.push(r)}return a};RegExp.prototype.escape=function(b){return b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};String.prototype.sliceReplace=function(b,a,e){return this.substring(0,b)+e+this.substring(a)};String.prototype.escape=function(){var b={"&":"&amp;","<":"&lt;",">":"&gt;"};return this.replace(/[&<>]/g,function(a){return b[a]||a})};String.prototype.linkify=function(b){return this.replace(/(http(s)?:\/\/(\S)+)/gmi,'<a href="$1" target="'+("undefined"!=
typeof b?b:"")+'">$1</a>')};String.prototype.toTitleCase=function(){var b=this.split(/\s+/),a="";e.each(b,function(e,r){""!=r&&(a+=r.slice(0,1).toUpperCase()+r.slice(1,r.length),e!=b.length-1&&""!=b[e+1]&&(a+=" "))});return a}})(jQueryCrayon);jqueryPopup={defaultSettings:{centerBrowser:0,centerScreen:0,height:500,left:0,location:0,menubar:0,resizable:0,scrollbars:0,status:0,width:500,windowName:null,windowURL:null,top:0,toolbar:0,data:null,event:"click"}};
(function(e){popupWindow=function(b,a,e,r){e="undefined"!==typeof e?e:null;r="undefined"!==typeof r?r:null;"string"==typeof b&&(b=jQuery(b));if(!(b instanceof jQuery))return!1;var k=jQuery.extend({},jqueryPopup.defaultSettings,a||{});b.handler=jQuery(b).bind(k.event,function(){e&&e();var a="height="+k.height+",width="+k.width+",toolbar="+k.toolbar+",scrollbars="+k.scrollbars+",status="+k.status+",resizable="+k.resizable+",location="+k.location+",menuBar="+k.menubar;k.windowName=k.windowName||jQuery(this).attr("name");
var b=jQuery(this).attr("href");!k.windowURL&&("#"!=b&&""!=b)&&(k.windowURL=jQuery(this).attr("href"));var n,b=null;k.centerBrowser?(jQuery.browser.msie?(b=window.screenTop-120+((document.documentElement.clientHeight+120)/2-k.height/2),n=window.screenLeft+((document.body.offsetWidth+20)/2-k.width/2)):(b=window.screenY+(window.outerHeight/2-k.height/2),n=window.screenX+(window.outerWidth/2-k.width/2)),b=window.open(k.windowURL,k.windowName,a+",left="+n+",top="+b)):k.centerScreen?(b=(screen.height-
k.height)/2,n=(screen.width-k.width)/2,b=window.open(k.windowURL,k.windowName,a+",left="+n+",top="+b)):b=window.open(k.windowURL,k.windowName,a+",left="+k.left+",top="+k.top);null!=b&&(b.focus(),k.data&&b.document.write(k.data));r&&r()});return k};popdownWindow=function(b,a){"undefined"==typeof a&&(a="click");b=jQuery(b);if(!(b instanceof jQuery))return!1;b.unbind(a,b.handler)}})(jQueryCrayon);(function(e){e.fn.exists=function(){return 0!==this.length};e.fn.style=function(b,a,e){var r=this.get(0);if("undefined"!=typeof r)if(r=r.style,"undefined"!=typeof b)if("undefined"!=typeof a)"undefined"!=typeof r.setProperty?r.setProperty(b,a,"undefined"!=typeof e?e:""):r[b]=a;else return r[b];else return r};e(document).ready(function(){CrayonSyntax.init()});CrayonSyntax=new function(){var b=this,a={},y,r=0,k;b.init=function(){"undefined"==typeof a&&(a={});y=CrayonSyntaxStrings;e("div.crayon-syntax").each(function(){b.process(this)})};
b.process=function(c,h){c=e(c);var m=c.attr("id");"crayon-"==m&&(m+=r++);c.attr("id",m);CrayonUtil.log(m);"undefined"==typeof h&&(h=!1);if(h||d(m)){var w=c.find(".crayon-toolbar"),l=c.find(".crayon-info"),p=c.find(".crayon-plain"),A=c.find(".crayon-main"),q=c.find(".crayon-table"),v=c.find(".crayon-code"),s=c.find(".crayon-title"),G=c.find(".crayon-tools"),B=c.find(".crayon-nums"),x=c.find(".crayon-nums-content"),z=c.find(".crayon-nums-button"),y=c.find(".crayon-wrap-button"),I=c.find(".crayon-expand-button"),
S=c.find(".crayon-popup-button"),T=c.find(".crayon-copy-button"),U=c.find(".crayon-plain-button");a[m]=c;a[m].toolbar=w;a[m].plain=p;a[m].info=l;a[m].main=A;a[m].table=q;a[m].code=v;a[m].title=s;a[m].tools=G;a[m].nums=B;a[m].nums_content=x;a[m].numsButton=z;a[m].wrapButton=y;a[m].expandButton=I;a[m].popup_button=S;a[m].copy_button=T;a[m].plainButton=U;a[m].numsVisible=!0;a[m].wrapped=!1;a[m].plainVisible=!1;a[m].toolbar_delay=0;a[m].time=1;e(".crayon-plain").css("z-index",0);v=A.style();a[m].mainStyle=
{height:v&&v.height||"","max-height":v&&v.maxHeight||"","min-height":v&&v.minHeight||"",width:v&&v.width||"","max-width":v&&v.maxWidth||"","min-width":v&&v.minWidth||""};a[m].mainHeightAuto=""==a[m].mainStyle.height&&""==a[m].mainStyle["max-height"];var V,W=0;a[m].loading=!0;a[m].scrollBlockFix=!1;z.click(function(){CrayonSyntax.toggleNums(m)});y.click(function(){CrayonSyntax.toggleWrap(m)});I.click(function(){CrayonSyntax.toggleExpand(m)});U.click(function(){CrayonSyntax.togglePlain(m)});T.click(function(){CrayonSyntax.copyPlain(m)});
D(m);V=setInterval(function(){0!=B.filter('[data-settings~="hide"]').length?x.ready(function(){CrayonUtil.log("function"+m);CrayonSyntax.toggleNums(m,!0,!0)}):g(m);"undefined"==typeof a[m].expanded&&(10>Math.abs(a[m].main.outerWidth()-a[m].table.outerWidth())?a[m].expandButton.hide():a[m].expandButton.show());5==W&&(clearInterval(V),a[m].loading=!1);W++},300);L(m);e(".crayon-num",a[m]).each(function(){var a=e(this).attr("data-line"),a=e("#"+a),c=a.style("height");c&&a.attr("data-height",c)});A.css("position",
"relative");A.css("z-index",1);k=0!=c.filter('[data-settings~="touchscreen"]').length;k||(A.click(function(){n(m,"",!1)}),p.click(function(){n(m,"",!1)}),l.click(function(){n(m,"",!1)}));0==c.filter('[data-settings~="no-popup"]').length&&(a[m].popup_settings=popupWindow(S,{height:screen.height-200,width:screen.width-100,top:75,left:50,scrollbars:1,windowURL:"",data:""},function(){u(m)},function(){}));p.css("opacity",0);a[m].toolbarVisible=!0;a[m].hasOneLine=q.outerHeight()<2*w.outerHeight();a[m].toolbarMouseover=
!1;0!=w.filter('[data-settings~="mouseover"]').length&&!k?(a[m].toolbarMouseover=!0,a[m].toolbarVisible=!1,w.css("margin-top","-"+w.outerHeight()+"px"),w.hide(),0!=w.filter('[data-settings~="overlay"]').length&&!a[m].hasOneLine?(w.css("position","absolute"),w.css("z-index",2),0!=w.filter('[data-settings~="hide"]').length&&(A.click(function(){E(m,void 0,void 0,0)}),p.click(function(){E(m,!1,void 0,0)}))):w.css("z-index",4),0!=w.filter('[data-settings~="delay"]').length&&(a[m].toolbar_delay=500),c.mouseenter(function(){E(m,
!0)}).mouseleave(function(){E(m,!1)})):k&&w.show();0==c.filter('[data-settings~="minimize"]').length&&b.minimize(m);0!=p.length&&!k&&(0!=p.filter('[data-settings~="dblclick"]').length?A.dblclick(function(){CrayonSyntax.togglePlain(m)}):0!=p.filter('[data-settings~="click"]').length?A.click(function(){CrayonSyntax.togglePlain(m)}):0!=p.filter('[data-settings~="mouseover"]').length&&(c.mouseenter(function(){CrayonSyntax.togglePlain(m,!0)}).mouseleave(function(){CrayonSyntax.togglePlain(m,!1)}),z.hide()),
0!=p.filter('[data-settings~="show-plain-default"]').length&&CrayonSyntax.togglePlain(m,!0));var R=0!=c.filter('[data-settings~="expand"]').length;!k&&0!=c.filter('[data-settings~="scroll-mouseover"]').length&&(A.css("overflow","hidden"),p.css("overflow","hidden"),c.mouseenter(function(){M(m,!0,R)}).mouseleave(function(){M(m,!1,R)}));R&&c.mouseenter(function(){N(m,!0)}).mouseleave(function(){N(m,!1)});0!=c.filter('[data-settings~="disable-anim"]').length&&(a[m].time=0);0!=c.filter('[data-settings~="wrap"]').length&&
(a[m].wrapped=!0);a[m].mac=c.hasClass("crayon-os-mac");g(m);f(m);t(m)}};var d=function(c){CrayonUtil.log(a);if("undefined"==typeof a[c])return a[c]=e("#"+c),CrayonUtil.log("make "+c),!0;CrayonUtil.log("no make "+c);return!1},u=function(c){if("undefined"==typeof a[c])return d(c);var g=a[c].popup_settings;if(!g.data){var f=a[c].clone(!0);f.removeClass("crayon-wrapped");a[c].wrapped&&e(".crayon-num",f).each(function(){var a=e(this).attr("data-line"),a=e("#"+a),c=a.attr("data-height"),c=c?c:"";"undefined"!=
typeof c&&(a.css("height",c),e(this).css("height",c))});f.find(".crayon-main").css("height","");var h="",h=a[c].plainVisible?f.find(".crayon-plain"):f.find(".crayon-main");g.data=b.getAllCSS()+'<body class="crayon-popup-window" style="padding:0; margin:0;"><div class="'+f.attr("class")+' crayon-popup">'+b.removeCssInline(b.getHtmlString(h))+"</div></body>"}};b.minimize=function(c){var d=e('<div class="crayon-minimize crayon-button"><div>');a[c].tools.append(d);a[c].origTitle=a[c].title.html();a[c].origTitle||
a[c].title.html(y.minimize);var g=function(){a[c].toolbarPreventHide=!1;d.remove();a[c].removeClass("crayon-minimized");a[c].title.html(a[c].origTitle);var g=a[c].toolbar;0!=g.filter('[data-settings~="never-show"]').length&&g.remove()};a[c].toolbar.click(g);d.click(g);a[c].addClass("crayon-minimized");a[c].toolbarPreventHide=!0;E(c,void 0,void 0,0)};b.getHtmlString=function(a){return e("<div>").append(a.clone()).remove().html()};b.removeCssInline=function(a){for(var d=/style\s*=\s*"([^"]+)"/gmi,g=
null;null!=(g=d.exec(a));){var f=g[1],f=f.replace(/\b(?:width|height)\s*:[^;]+;/gmi,"");a=a.sliceReplace(g.index,g.index+g[0].length,'style="'+f+'"')}return a};b.getAllCSS=function(){var a="",d=e('link[rel="stylesheet"]'),g=[],g=1==d.length?d:d.filter('[href*="crayon-syntax-highlighter"], [href*="min/"]');g.each(function(){var d=b.getHtmlString(e(this));a+=d});return a};b.copyPlain=function(c,g){if("undefined"==typeof a[c])return d(c);b.togglePlain(c,!0,!0);E(c,!0);var f=a[c].mac?"\u2318":"CTRL",
h=y.copy,h=h.replace(/%s/,f+"+C"),h=h.replace(/%s/,f+"+V");n(c,h);return!1};var n=function(c,g,f){if("undefined"==typeof a[c])return d(c);var h=a[c].info;"undefined"==typeof g&&(g="");"undefined"==typeof f&&(f=!0);s(h)&&f&&(h.html("<div>"+g+"</div>"),h.css("margin-top",-h.outerHeight()),h.show(),x(c,h,!0),setTimeout(function(){x(c,h,!1)},5E3));f||x(c,h,!1)},D=function(c){1<window.devicePixelRatio&&e(".crayon-button",a[c].toolbar).each(function(){var a=e(this).css("background-image").replace(/\.(?=[^\.]+$)/g,
"@2x.");e(this).css("background-size","48px 16px");e(this).css("background-image",a)})},s=function(a){var d="-"+a.outerHeight()+"px";return a.css("margin-top")==d||"none"==a.css("display")?!0:!1},x=function(a,d,g,f,h,b){var w=function(){b&&b(a,d)},e="-"+d.outerHeight()+"px";"undefined"==typeof g&&(g=s(d)?!0:!1);"undefined"==typeof f&&(f=100);!1==f&&(f=!1);"undefined"==typeof h&&(h=0);d.stop(!0);!0==g?(d.show(),d.animate({marginTop:0},v(f,a),w)):!1==g&&("0px"==d.css("margin-top")&&h&&d.delay(h),d.animate({marginTop:e},
v(f,a),function(){d.hide();w()}))};b.togglePlain=function(c,g,h){if("undefined"==typeof a[c])return d(c);var b=a[c].main,w=a[c].plain;if(!((b.is(":animated")||w.is(":animated"))&&"undefined"==typeof g)){a[c].plain.outerHeight(a[c].main.outerHeight());var e,l;"undefined"!=typeof g?g?(e=b,l=w):(e=w,l=b):1==b.css("z-index")?(e=b,l=w):(e=w,l=b);a[c].plainVisible=l==w;a[c].top=e.scrollTop();a[c].left=e.scrollLeft();a[c].scrollChanged=!1;L(c);e.stop(!0);e.fadeTo(v(500,c),0,function(){e.css("z-index",0)});
l.stop(!0);l.fadeTo(v(500,c),1,function(){l.css("z-index",1);l==w&&h&&w.select();l.scrollTop(a[c].top+1);l.scrollTop(a[c].top);l.scrollLeft(a[c].left+1);l.scrollLeft(a[c].left)});l.scrollTop(a[c].top);l.scrollLeft(a[c].left);f(c);E(c,!1);return!1}};b.toggleNums=function(c,f,h){if("undefined"==typeof a[c])return d(c),!1;if(a[c].table.is(":animated"))return!1;var b="-"+Math.round(a[c].nums_content.outerWidth()+1)+"px";("undefined"!=typeof f?0:a[c].table.css("margin-left")==b)?(f="0px",a[c].numsVisible=
!0):(a[c].table.css("margin-left","0px"),a[c].numsVisible=!1,f=b);if("undefined"!=typeof h)return a[c].table.css("margin-left",f),g(c),!1;var w=a[c].table.outerWidth()+z(a[c].table.css("margin-left"))>a[c].main.outerWidth(),e=a[c].table.outerHeight()>a[c].main.outerHeight();!w&&!e&&a[c].main.css("overflow","hidden");a[c].table.animate({marginLeft:f},v(200,c),function(){"undefined"!=typeof a[c]&&(g(c),!w&&!e&&a[c].main.css("overflow","auto"))});return!1};b.toggleWrap=function(c){a[c].wrapped=!a[c].wrapped;
t(c)};b.toggleExpand=function(c){var d=!CrayonUtil.setDefault(a[c].expanded,!1);N(c,d)};var t=function(c,d){d=CrayonUtil.setDefault(d,!0);a[c].wrapped?a[c].addClass("crayon-wrapped"):a[c].removeClass("crayon-wrapped");h(c);!a[c].expanded&&d&&I(c);a[c].wrapTimes=0;clearInterval(a[c].wrapTimer);a[c].wrapTimer=setInterval(function(){a[c].is(":visible")&&(A(c),a[c].wrapTimes++,5==a[c].wrapTimes&&clearInterval(a[c].wrapTimer))},200)},z=function(a){if("string"!=typeof a)return 0;a=a.replace(/[^-0-9]/g,
"");return 0==a.length?0:parseInt(a)},g=function(c){"undefined"==typeof a[c]||"undefined"==typeof a[c].numsVisible||(a[c].numsVisible?(a[c].numsButton.removeClass(""),a[c].numsButton.addClass("crayon-pressed")):(a[c].numsButton.removeClass("crayon-pressed"),a[c].numsButton.addClass("")))},h=function(c){"undefined"==typeof a[c]||"undefined"==typeof a[c].wrapped||(a[c].wrapped?(a[c].wrapButton.removeClass(""),a[c].wrapButton.addClass("crayon-pressed")):(a[c].wrapButton.removeClass("crayon-pressed"),
a[c].wrapButton.addClass("")))},w=function(c){"undefined"==typeof a[c]||"undefined"==typeof a[c].expanded||(a[c].expanded?(a[c].expandButton.removeClass(""),a[c].expandButton.addClass("crayon-pressed")):(a[c].expandButton.removeClass("crayon-pressed"),a[c].expandButton.addClass("")))},f=function(c){"undefined"==typeof a[c]||"undefined"==typeof a[c].plainVisible||(a[c].plainVisible?(a[c].plainButton.removeClass(""),a[c].plainButton.addClass("crayon-pressed")):(a[c].plainButton.removeClass("crayon-pressed"),
a[c].plainButton.addClass("")))},E=function(c,g,f,h){if("undefined"==typeof a[c])return d(c);if(a[c].toolbarMouseover&&!(!1==g&&a[c].toolbarPreventHide||k)){var b=a[c].toolbar;"undefined"==typeof h&&(h=a[c].toolbar_delay);x(c,b,g,f,h,function(){a[c].toolbarVisible=g})}},p=function(a,d){var g=e.extend({},a);g.width+=d.width;g.height+=d.height;return g},l=function(a,d){var g=e.extend({},a);g.width-=d.width;g.height-=d.height;return g},q=function(c){"undefined"==typeof a[c].initialSize&&(a[c].toolbarHeight=
a[c].toolbar.outerHeight(),a[c].innerSize={width:a[c].width(),height:a[c].height()},a[c].outerSize={width:a[c].outerWidth(),height:a[c].outerHeight()},a[c].borderSize=l(a[c].outerSize,a[c].innerSize),a[c].initialSize={width:a[c].main.outerWidth(),height:a[c].main.outerHeight()},a[c].initialSize.height+=a[c].toolbarHeight,a[c].initialOuterSize=p(a[c].initialSize,a[c].borderSize),a[c].finalSize={width:a[c].table.outerWidth(),height:a[c].table.outerHeight()},a[c].finalSize.height+=a[c].toolbarHeight,
a[c].finalSize.width=CrayonUtil.setMin(a[c].finalSize.width,a[c].initialSize.width),a[c].finalSize.height=CrayonUtil.setMin(a[c].finalSize.height,a[c].initialSize.height),a[c].diffSize=l(a[c].finalSize,a[c].initialSize),a[c].finalOuterSize=p(a[c].finalSize,a[c].borderSize),a[c].initialSize.height+=a[c].toolbar.outerHeight())},N=function(c,g){if("undefined"==typeof a[c])return d(c);if("undefined"!=typeof g){var f=a[c].main;if(g){if("undefined"==typeof a[c].expanded){q(c);a[c].expandTime=CrayonUtil.setRange(a[c].diffSize.width/
3,300,800);a[c].expanded=!1;var h=a[c].finalOuterSize;a[c].placeholder=e("<div></div>");a[c].placeholder.addClass("crayon-placeholder");a[c].placeholder.css(h);a[c].before(a[c].placeholder);a[c].placeholder.css("margin",a[c].css("margin"));e(window).bind("resize",G)}a[c].outerWidth(a[c].outerWidth());a[c].css({"min-width":"none","max-width":"none"});h={width:a[c].finalOuterSize.width};!a[c].mainHeightAuto&&!a[c].hasOneLine&&(h.height=a[c].finalOuterSize.height,a[c].outerHeight(a[c].outerHeight()));
f.css({height:"auto","min-height":"none","max-height":"none"});f.css({width:"auto","min-width":"none","max-width":"none"});a[c].stop(!0);a[c].animate(h,v(a[c].expandTime,c),function(){a[c].expanded=!0;w(c)});a[c].placeholder.show();e("body").prepend(a[c]);a[c].addClass("crayon-expanded crayon-toolbar-visible");G()}else f=a[c].initialOuterSize,h=a[c].toolbar_delay,f?(a[c].stop(!0),a[c].expanded||a[c].delay(h),h={width:f.width},!a[c].mainHeightAuto&&!a[c].hasOneLine&&(h.height=f.height),a[c].animate(h,
v(a[c].expandTime,c),function(){B(c)})):setTimeout(function(){B(c)},h),a[c].placeholder.hide(),a[c].placeholder.before(a[c]),a[c].css({left:"auto",top:"auto"}),a[c].removeClass("crayon-expanded crayon-toolbar-visible");a[c].plain.outerHeight(a[c].main.outerHeight());g&&t(c,!1)}},G=function(){for(uid in a)a[uid].hasClass("crayon-expanded crayon-toolbar-visible")&&a[uid].css(a[uid].placeholder.offset())},B=function(c){a[c].expanded=!1;I(c);w(c);a[c].wrapped&&t(c)},M=function(c,g,f){if("undefined"==
typeof a[c])return d(c);if(!("undefined"==typeof g||f||a[c].expanded)){f=a[c].main;var h=a[c].plain;g?(f.css("overflow","auto"),h.css("overflow","auto"),"undefined"!=typeof a[c].top&&(visible=1==f.css("z-index")?f:h,visible.scrollTop(a[c].top-1),visible.scrollTop(a[c].top),visible.scrollLeft(a[c].left-1),visible.scrollLeft(a[c].left))):(visible=1==f.css("z-index")?f:h,a[c].top=visible.scrollTop(),a[c].left=visible.scrollLeft(),f.css("overflow","hidden"),h.css("overflow","hidden"));a[c].scrollChanged=
!0;L(c)}},L=function(c){a[c].table.style("width","100%","important");var g=setTimeout(function(){a[c].table.style("width","");clearInterval(g)},10)},I=function(c){var g=a[c].mainStyle;a[c].main.css(g);a[c].css("height","auto");a[c].css("width",g.width);a[c].css("max-width",g["max-width"]);a[c].css("min-width",g["min-width"])},A=function(c){e(".crayon-num",a[c]).each(function(){var g=e(this).attr("data-line"),g=e("#"+g),d=null;a[c].wrapped?(g.css("height",""),d=(d=g.outerHeight())?d:""):(d=(d=g.attr("data-height"))?
d:"",g.css("height",d));e(this).css("height",d)})},v=function(c,g){if("fast"==c)c=200;else if("slow"==c)c=600;else if("number"!=typeof c&&(c=parseInt(c),isNaN(c)))return 0;return c*a[g].time}}})(jQueryCrayon);var CSSJSON=new function(){var e=this;e.init=function(){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};String.prototype.repeat=function(a){return Array(1+a).join(this)}};e.init();var b=/\/\*[\s\S]*?\*\//g,a=/([^\:]+):([^\;]*);/,y=/(\/\*[\s\S]*?\*\/)|([^\s\;\{\}][^\;\{\}]*(?=\{))|(\})|([^\;\{\}]+\;(?!\s*\*\/))/gmi,r=function(a){return"undefined"==typeof a||0==a.length||null==a};e.toJSON=function(k,d){var u={children:{},attributes:{}},n=null,D=0;"undefined"==typeof d&&(d={ordered:!1,
comments:!1,stripComments:!1,split:!1});d.stripComments&&(d.comments=!1,k=k.replace(b,""));for(;null!=(n=y.exec(k));)if(!r(n[1])&&d.comments)n=n[1].trim(),u[D++]=n;else if(r(n[2]))if(r(n[3])){if(!r(n[4])){var n=n[4].trim(),s=a.exec(n);s?(n=s[1].trim(),s=s[2].trim(),d.ordered?(x={},x.name=n,x.value=s,x.type="attr",u[D++]=x):u.attributes[n]=s):u[D++]=n}}else break;else if(n=n[2].trim(),s=e.toJSON(k,d),d.ordered){var x={};x.name=n;x.value=s;x.type="rule";u[D++]=x}else for(i in n=d.split?n.split(","):
[n],n)if(x=n[i].trim(),x in u.children)for(var t in s.attributes)u.children[x].attributes[t]=s.attributes[t];else u.children[x]=s;return u};e.toCSS=function(a,d,b){var n="";"undefined"==typeof d&&(d=0);"undefined"==typeof b&&(b=!1);if(a.attributes)for(i in a.attributes)n+="\t".repeat(d)+i+": "+a.attributes[i]+";\n";if(a.children){var r=!0;for(i in a.children){b&&!r?n+="\n":r=!1;var s=i,x=a.children[i],t=d,s="\t".repeat(t)+s+" {\n",s=s+e.toCSS(x,t+1),s=s+("\t".repeat(t)+"}\n"),n=n+s}}return n}};window.fancyboxInit=function(e,b,a,y){var r=a(e),k=a(b),d=a[y]=function(){d.open.apply(this,arguments)},u=null,n=void 0!==b.createTouch,D=function(g){return g&&g.hasOwnProperty&&g instanceof a},s=function(g){return g&&"string"===a.type(g)},x=function(a){return s(a)&&0<a.indexOf("%")},t=function(a,h){var b=parseInt(a,10)||0;h&&x(a)&&(b*=d.getViewport()[h]/100);return Math.ceil(b)},z=function(a,d){return t(a,d)+"px"};a.extend(d,{version:"2.1.3",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,
minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!n,fitToView:!0,aspectRatio:!1,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3E3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",
39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+
(a.browser.msie?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",
openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:a.noop,beforeLoad:a.noop,afterLoad:a.noop,beforeShow:a.noop,afterShow:a.noop,beforeChange:a.noop,beforeClose:a.noop,afterClose:a.noop},group:{},opts:{},previous:null,coming:null,current:null,
isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(g,h){if(g&&(a.isPlainObject(h)||(h={}),!1!==d.close(!0)))return a.isArray(g)||(g=D(g)?a(g).get():[g]),a.each(g,function(b,f){var e={},p,l,q,k,n;"object"===a.type(f)&&(f.nodeType&&(f=a(f)),D(f)?(e={href:f.data("fancybox-href")||f.attr("href"),title:f.data("fancybox-title")||f.attr("title"),isDom:!0,element:f},a.metadata&&a.extend(!0,
e,f.metadata())):e=f);p=h.href||e.href||(s(f)?f:null);l=void 0!==h.title?h.title:e.title||"";k=(q=h.content||e.content)?"html":h.type||e.type;!k&&e.isDom&&(k=f.data("fancybox-type"),k||(k=(k=f.prop("class").match(/fancybox\.(\w+)/))?k[1]:null));s(p)&&(k||(d.isImage(p)?k="image":d.isSWF(p)?k="swf":"#"===p.charAt(0)?k="inline":s(f)&&(k="html",q=f)),"ajax"===k&&(n=p.split(/\s+/,2),p=n.shift(),n=n.shift()));q||("inline"===k?p?q=a(s(p)?p.replace(/.*(?=#[^\s]+$)/,""):p):e.isDom&&(q=f):"html"===k?q=p:!k&&
(!p&&e.isDom)&&(k="inline",q=f));a.extend(e,{href:p,type:k,content:q,title:l,selector:n});g[b]=e}),d.opts=a.extend(!0,{},d.defaults,h),void 0!==h.keys&&(d.opts.keys=h.keys?a.extend({},d.defaults.keys,h.keys):!1),d.group=g,d._start(d.opts.index)},cancel:function(){var a=d.coming;a&&!1!==d.trigger("onCancel")&&(d.hideLoading(),d.ajaxLoad&&d.ajaxLoad.abort(),d.ajaxLoad=null,d.imgPreload&&(d.imgPreload.onload=d.imgPreload.onerror=null),a.wrap&&a.wrap.stop(!0,!0).trigger("onReset").remove(),d.coming=null,
d.current||d._afterZoomOut(a))},close:function(g){d.cancel();!1!==d.trigger("beforeClose")&&(d.unbindEvents(),d.isActive&&(!d.isOpen||!0===g?(a(".fancybox-wrap").stop(!0).trigger("onReset").remove(),d._afterZoomOut()):(d.isOpen=d.isOpened=!1,d.isClosing=!0,a(".fancybox-item, .fancybox-nav").remove(),d.wrap.stop(!0,!0).removeClass("fancybox-opened"),d.transitions[d.current.closeMethod]())))},play:function(g){var h=function(){clearTimeout(d.player.timer)},b=function(){h();d.current&&d.player.isActive&&
(d.player.timer=setTimeout(d.next,d.current.playSpeed))},f=function(){h();a("body").unbind(".player");d.player.isActive=!1;d.trigger("onPlayEnd")};if(!0===g||!d.player.isActive&&!1!==g){if(d.current&&(d.current.loop||d.current.index<d.group.length-1))d.player.isActive=!0,a("body").bind({"afterShow.player onUpdate.player":b,"onCancel.player beforeClose.player":f,"beforeLoad.player":h}),b(),d.trigger("onPlayStart")}else f()},next:function(a){var h=d.current;h&&(s(a)||(a=h.direction.next),d.jumpto(h.index+
1,a,"next"))},prev:function(a){var h=d.current;h&&(s(a)||(a=h.direction.prev),d.jumpto(h.index-1,a,"prev"))},jumpto:function(a,h,b){var f=d.current;f&&(a=t(a),d.direction=h||f.direction[a>=f.index?"next":"prev"],d.router=b||"jumpto",f.loop&&(0>a&&(a=f.group.length+a%f.group.length),a%=f.group.length),void 0!==f.group[a]&&(d.cancel(),d._start(a)))},reposition:function(g,h){var b=d.current,f=b?b.wrap:null,e;f&&(e=d._getPosition(h),g&&"scroll"===g.type?(delete e.position,f.stop(!0,!0).animate(e,200)):
(f.css(e),b.pos=a.extend({},b.dim,e)))},update:function(a){var h=a&&a.type,b=!h||"orientationchange"===h;b&&(clearTimeout(u),u=null);d.isOpen&&!u&&(u=setTimeout(function(){var f=d.current;f&&!d.isClosing&&(d.wrap.removeClass("fancybox-tmp"),(b||"load"===h||"resize"===h&&f.autoResize)&&d._setDimension(),"scroll"===h&&f.canShrink||d.reposition(a),d.trigger("onUpdate"),u=null)},b&&!n?0:300))},toggle:function(g){d.isOpen&&(d.current.fitToView="boolean"===a.type(g)?g:!d.current.fitToView,n&&(d.wrap.removeAttr("style").addClass("fancybox-tmp"),
d.trigger("onUpdate")),d.update())},hideLoading:function(){k.unbind(".loading");a("#fancybox-loading").remove()},showLoading:function(){var g,h;d.hideLoading();g=a('<div id="fancybox-loading"><div></div></div>').click(d.cancel).appendTo("body");k.bind("keydown.loading",function(a){if(27===(a.which||a.keyCode))a.preventDefault(),d.cancel()});d.defaults.fixed||(h=d.getViewport(),g.css({position:"absolute",top:0.5*h.h+h.y,left:0.5*h.w+h.x}))},getViewport:function(){var a=d.current&&d.current.locked||
!1,h={x:r.scrollLeft(),y:r.scrollTop()};a?(h.w=a[0].clientWidth,h.h=a[0].clientHeight):(h.w=n&&e.innerWidth?e.innerWidth:r.width(),h.h=n&&e.innerHeight?e.innerHeight:r.height());return h},unbindEvents:function(){d.wrap&&D(d.wrap)&&d.wrap.unbind(".fb");k.unbind(".fb");r.unbind(".fb")},bindEvents:function(){var g=d.current,h;g&&(r.bind("orientationchange.fb"+(n?"":" resize.fb")+(g.autoCenter&&!g.locked?" scroll.fb":""),d.update),(h=g.keys)&&k.bind("keydown.fb",function(b){var f=b.which||b.keyCode,e=
b.target||b.srcElement;if(27===f&&d.coming)return!1;!b.ctrlKey&&(!b.altKey&&!b.shiftKey&&!b.metaKey&&(!e||!e.type&&!a(e).is("[contenteditable]")))&&a.each(h,function(h,e){if(1<g.group.length&&void 0!==e[f])return d[h](e[f]),b.preventDefault(),!1;if(-1<a.inArray(f,e))return d[h](),b.preventDefault(),!1})}),a.fn.mousewheel&&g.mouseWheel&&d.wrap.bind("mousewheel.fb",function(h,f,b,e){for(var l=a(h.target||null),k=!1;l.length&&!k&&!l.is(".fancybox-skin")&&!l.is(".fancybox-wrap");)k=l[0]&&!(l[0].style.overflow&&
"hidden"===l[0].style.overflow)&&(l[0].clientWidth&&l[0].scrollWidth>l[0].clientWidth||l[0].clientHeight&&l[0].scrollHeight>l[0].clientHeight),l=a(l).parent();if(0!==f&&!k&&1<d.group.length&&!g.canShrink){if(0<e||0<b)d.prev(0<e?"down":"left");else if(0>e||0>b)d.next(0>e?"up":"right");h.preventDefault()}}))},trigger:function(g,h){var b,f=h||d.coming||d.current;if(f){a.isFunction(f[g])&&(b=f[g].apply(f,Array.prototype.slice.call(arguments,1)));if(!1===b)return!1;f.helpers&&a.each(f.helpers,function(h,
b){b&&(d.helpers[h]&&a.isFunction(d.helpers[h][g]))&&(b=a.extend(!0,{},d.helpers[h].defaults,b),d.helpers[h][g](b,f))});a.event.trigger(g+".fb")}},isImage:function(a){return s(a)&&a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)},isSWF:function(a){return s(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(g){var h={},b,f;g=t(g);b=d.group[g]||null;if(!b)return!1;h=a.extend(!0,{},d.opts,b);b=h.margin;f=h.padding;"number"===a.type(b)&&(h.margin=[b,b,b,b]);"number"===a.type(f)&&
(h.padding=[f,f,f,f]);h.modal&&a.extend(!0,h,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}});h.autoSize&&(h.autoWidth=h.autoHeight=!0);"auto"===h.width&&(h.autoWidth=!0);"auto"===h.height&&(h.autoHeight=!0);h.group=d.group;h.index=g;d.coming=h;if(!1===d.trigger("beforeLoad"))d.coming=null;else{f=h.type;b=h.href;if(!f)return d.coming=null,d.current&&d.router&&"jumpto"!==d.router?(d.current.index=g,d[d.router](d.direction)):!1;d.isActive=
!0;if("image"===f||"swf"===f)h.autoHeight=h.autoWidth=!1,h.scrolling="visible";"image"===f&&(h.aspectRatio=!0);"iframe"===f&&n&&(h.scrolling="scroll");h.wrap=a(h.tpl.wrap).addClass("fancybox-"+(n?"mobile":"desktop")+" fancybox-type-"+f+" fancybox-tmp "+h.wrapCSS).appendTo(h.parent||"body");a.extend(h,{skin:a(".fancybox-skin",h.wrap),outer:a(".fancybox-outer",h.wrap),inner:a(".fancybox-inner",h.wrap)});a.each(["Top","Right","Bottom","Left"],function(a,d){h.skin.css("padding"+d,z(h.padding[a]))});d.trigger("onReady");
if("inline"===f||"html"===f){if(!h.content||!h.content.length)return d._error("content")}else if(!b)return d._error("href");"image"===f?d._loadImage():"ajax"===f?d._loadAjax():"iframe"===f?d._loadIframe():d._afterLoad()}},_error:function(g){a.extend(d.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:g,content:d.coming.tpl.error});d._afterLoad()},_loadImage:function(){var a=d.imgPreload=new Image;a.onload=function(){this.onload=this.onerror=null;d.coming.width=
this.width;d.coming.height=this.height;d._afterLoad()};a.onerror=function(){this.onload=this.onerror=null;d._error("image")};a.src=d.coming.href;!0!==a.complete&&d.showLoading()},_loadAjax:function(){var g=d.coming;d.showLoading();d.ajaxLoad=a.ajax(a.extend({},g.ajax,{url:g.href,error:function(a,g){d.coming&&"abort"!==g?d._error("ajax",a):d.hideLoading()},success:function(a,b){"success"===b&&(g.content=a,d._afterLoad())}}))},_loadIframe:function(){var g=d.coming,b=a(g.tpl.iframe.replace(/\{rnd\}/g,
(new Date).getTime())).attr("scrolling",n?"auto":g.iframe.scrolling).attr("src",g.href);a(g.wrap).bind("onReset",function(){try{a(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(d){}});g.iframe.preload&&(d.showLoading(),b.one("load",function(){a(this).data("ready",1);n||a(this).bind("load.fb",d.update);a(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();d._afterLoad()}));g.content=b.appendTo(g.inner);g.iframe.preload||d._afterLoad()},_preloadImages:function(){var a=
d.group,b=d.current,e=a.length,f=b.preload?Math.min(b.preload,e-1):0,k,p;for(p=1;p<=f;p+=1)k=a[(b.index+p)%e],"image"===k.type&&k.href&&((new Image).src=k.href)},_afterLoad:function(){var g=d.coming,b=d.current,e,f,k,p,l;d.hideLoading();if(g&&!1!==d.isActive)if(!1===d.trigger("afterLoad",g,b))g.wrap.stop(!0).trigger("onReset").remove(),d.coming=null;else{b&&(d.trigger("beforeChange",b),b.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove());d.unbindEvents();
e=g.content;f=g.type;k=g.scrolling;a.extend(d,{wrap:g.wrap,skin:g.skin,outer:g.outer,inner:g.inner,current:g,previous:b});p=g.href;switch(f){case "inline":case "ajax":case "html":g.selector?e=a("<div>").html(e).find(g.selector):D(e)&&(e.data("fancybox-placeholder")||e.data("fancybox-placeholder",a('<div class="fancybox-placeholder"></div>').insertAfter(e).hide()),e=e.show().detach(),g.wrap.bind("onReset",function(){a(this).find(e).length&&e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder",
!1)}));break;case "image":e=g.tpl.image.replace("{href}",p);break;case "swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+p+'"></param>',l="",a.each(g.swf,function(a,d){e+='<param name="'+a+'" value="'+d+'"></param>';l+=" "+a+'="'+d+'"'}),e+='<embed src="'+p+'" type="application/x-shockwave-flash" width="100%" height="100%"'+l+"></embed></object>"}(!D(e)||!e.parent().is(g.inner))&&g.inner.append(e);d.trigger("beforeShow");
g.inner.css("overflow","yes"===k?"scroll":"no"===k?"hidden":k);d._setDimension();d.reposition();d.isOpen=!1;d.coming=null;d.bindEvents();if(d.isOpened){if(b.prevMethod)d.transitions[b.prevMethod]()}else a(".fancybox-wrap").not(g.wrap).stop(!0).trigger("onReset").remove();d.transitions[d.isOpened?g.nextMethod:g.openMethod]();d._preloadImages()}},_setDimension:function(){var g=d.getViewport(),b=0,e=!1,f=!1,e=d.wrap,k=d.skin,p=d.inner,l=d.current,f=l.width,q=l.height,n=l.minWidth,r=l.minHeight,s=l.maxWidth,
u=l.maxHeight,D=l.scrolling,y=l.scrollOutside?l.scrollbarWidth:0,A=l.margin,v=t(A[1]+A[3]),c=t(A[0]+A[2]),J,m,C,H,F,O,Q,K,P;e.add(k).add(p).width("auto").height("auto").removeClass("fancybox-tmp");A=t(k.outerWidth(!0)-k.width());J=t(k.outerHeight(!0)-k.height());m=v+A;C=c+J;H=x(f)?(g.w-m)*t(f)/100:f;F=x(q)?(g.h-C)*t(q)/100:q;if("iframe"===l.type){if(P=l.content,l.autoHeight&&1===P.data("ready"))try{P[0].contentWindow.document.location&&(p.width(H).height(9999),O=P.contents().find("body"),y&&O.css("overflow-x",
"hidden"),F=O.height())}catch(X){}}else if(l.autoWidth||l.autoHeight)p.addClass("fancybox-tmp"),l.autoWidth||p.width(H),l.autoHeight||p.height(F),l.autoWidth&&(H=p.width()),l.autoHeight&&(F=p.height()),p.removeClass("fancybox-tmp");f=t(H);q=t(F);K=H/F;n=t(x(n)?t(n,"w")-m:n);s=t(x(s)?t(s,"w")-m:s);r=t(x(r)?t(r,"h")-C:r);u=t(x(u)?t(u,"h")-C:u);O=s;Q=u;l.fitToView&&(s=Math.min(g.w-m,s),u=Math.min(g.h-C,u));m=g.w-v;c=g.h-c;l.aspectRatio?(f>s&&(f=s,q=t(f/K)),q>u&&(q=u,f=t(q*K)),f<n&&(f=n,q=t(f/K)),q<r&&
(q=r,f=t(q*K))):(f=Math.max(n,Math.min(f,s)),l.autoHeight&&"iframe"!==l.type&&(p.width(f),q=p.height()),q=Math.max(r,Math.min(q,u)));if(l.fitToView)if(p.width(f).height(q),e.width(f+A),g=e.width(),v=e.height(),l.aspectRatio)for(;(g>m||v>c)&&(f>n&&q>r)&&!(19<b++);)q=Math.max(r,Math.min(u,q-10)),f=t(q*K),f<n&&(f=n,q=t(f/K)),f>s&&(f=s,q=t(f/K)),p.width(f).height(q),e.width(f+A),g=e.width(),v=e.height();else f=Math.max(n,Math.min(f,f-(g-m))),q=Math.max(r,Math.min(q,q-(v-c)));y&&("auto"===D&&q<F&&f+A+
y<m)&&(f+=y);p.width(f).height(q);e.width(f+A);g=e.width();v=e.height();e=(g>m||v>c)&&f>n&&q>r;f=l.aspectRatio?f<O&&q<Q&&f<H&&q<F:(f<O||q<Q)&&(f<H||q<F);a.extend(l,{dim:{width:z(g),height:z(v)},origWidth:H,origHeight:F,canShrink:e,canExpand:f,wPadding:A,hPadding:J,wrapSpace:v-k.outerHeight(!0),skinSpace:k.height()-q});!P&&(l.autoHeight&&q>r&&q<u&&!f)&&p.height("auto")},_getPosition:function(a){var b=d.current,e=d.getViewport(),f=b.margin,k=d.wrap.width()+f[1]+f[3],p=d.wrap.height()+f[0]+f[2],f={position:"absolute",
top:f[0],left:f[3]};b.autoCenter&&b.fixed&&!a&&p<=e.h&&k<=e.w?f.position="fixed":b.locked||(f.top+=e.y,f.left+=e.x);f.top=z(Math.max(f.top,f.top+(e.h-p)*b.topRatio));f.left=z(Math.max(f.left,f.left+(e.w-k)*b.leftRatio));return f},_afterZoomIn:function(){var b=d.current;b&&(d.isOpen=d.isOpened=!0,d.wrap.css("overflow","visible").addClass("fancybox-opened"),d.update(),(b.closeClick||b.nextClick&&1<d.group.length)&&d.inner.css("cursor","pointer").bind("click.fb",function(e){!a(e.target).is("a")&&!a(e.target).parent().is("a")&&
(e.preventDefault(),d[b.closeClick?"close":"next"]())}),b.closeBtn&&a(b.tpl.closeBtn).appendTo(d.skin).bind(n?"touchstart.fb":"click.fb",function(a){a.preventDefault();d.close()}),b.arrows&&1<d.group.length&&((b.loop||0<b.index)&&a(b.tpl.prev).appendTo(d.outer).bind("click.fb",d.prev),(b.loop||b.index<d.group.length-1)&&a(b.tpl.next).appendTo(d.outer).bind("click.fb",d.next)),d.trigger("afterShow"),!b.loop&&b.index===b.group.length-1?d.play(!1):d.opts.autoPlay&&!d.player.isActive&&(d.opts.autoPlay=
!1,d.play()))},_afterZoomOut:function(b){b=b||d.current;a(".fancybox-wrap").trigger("onReset").remove();a.extend(d,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null});d.trigger("afterClose",b)}});d.transitions={getOrigPosition:function(){var a=d.current,b=a.element,e=a.orig,f={},k=50,p=50,l=a.hPadding,q=a.wPadding,n=d.getViewport();!e&&(a.isDom&&b.is(":visible"))&&(e=b.find("img:first"),e.length||(e=b));D(e)?(f=e.offset(),
e.is("img")&&(k=e.outerWidth(),p=e.outerHeight())):(f.top=n.y+(n.h-p)*a.topRatio,f.left=n.x+(n.w-k)*a.leftRatio);if("fixed"===d.wrap.css("position")||a.locked)f.top-=n.y,f.left-=n.x;return f={top:z(f.top-l*a.topRatio),left:z(f.left-q*a.leftRatio),width:z(k+q),height:z(p+l)}},step:function(a,b){var e,f,k=b.prop;f=d.current;var p=f.wrapSpace,l=f.skinSpace;if("width"===k||"height"===k)e=b.end===b.start?1:(a-b.start)/(b.end-b.start),d.isClosing&&(e=1-e),f="width"===k?f.wPadding:f.hPadding,f=a-f,d.skin[k](t("width"===
k?f:f-p*e)),d.inner[k](t("width"===k?f:f-p*e-l*e))},zoomIn:function(){var b=d.current,e=b.pos,k=b.openEffect,f="elastic"===k,n=a.extend({opacity:1},e);delete n.position;f?(e=this.getOrigPosition(),b.openOpacity&&(e.opacity=0.1)):"fade"===k&&(e.opacity=0.1);d.wrap.css(e).animate(n,{duration:"none"===k?0:b.openSpeed,easing:b.openEasing,step:f?this.step:null,complete:d._afterZoomIn})},zoomOut:function(){var a=d.current,b=a.closeEffect,e="elastic"===b,f={opacity:0.1};e&&(f=this.getOrigPosition(),a.closeOpacity&&
(f.opacity=0.1));d.wrap.animate(f,{duration:"none"===b?0:a.closeSpeed,easing:a.closeEasing,step:e?this.step:null,complete:d._afterZoomOut})},changeIn:function(){var a=d.current,b=a.nextEffect,e=a.pos,f={opacity:1},k=d.direction,p;e.opacity=0.1;"elastic"===b&&(p="down"===k||"up"===k?"top":"left","down"===k||"right"===k?(e[p]=z(t(e[p])-200),f[p]="+=200px"):(e[p]=z(t(e[p])+200),f[p]="-=200px"));"none"===b?d._afterZoomIn():d.wrap.css(e).animate(f,{duration:a.nextSpeed,easing:a.nextEasing,complete:function(){setTimeout(d._afterZoomIn,
20)}})},changeOut:function(){var b=d.previous,e=b.prevEffect,k={opacity:0.1},f=d.direction;"elastic"===e&&(k["down"===f||"up"===f?"top":"left"]=("up"===f||"left"===f?"-":"+")+"=200px");b.wrap.animate(k,{duration:"none"===e?0:b.prevSpeed,easing:b.prevEasing,complete:function(){a(this).trigger("onReset").remove()}})}};d.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!n,fixed:!0},overlay:null,fixed:!1,create:function(b){b=a.extend({},this.defaults,b);this.overlay&&this.close();
this.overlay=a('<div class="fancybox-overlay"></div>').appendTo("body");this.fixed=!1;b.fixed&&d.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(b){var e=this;b=a.extend({},this.defaults,b);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(b);this.fixed||(r.bind("resize.overlay",a.proxy(this.update,this)),this.update());b.closeClick&&this.overlay.bind("click.overlay",function(b){a(b.target).hasClass("fancybox-overlay")&&
(d.isActive?d.close():e.close())});this.overlay.css(b.css).show()},close:function(){a(".fancybox-overlay").remove();r.unbind("resize.overlay");this.overlay=null;!1!==this.margin&&(a("body").css("margin-right",this.margin),this.margin=!1);this.el&&this.el.removeClass("fancybox-lock")},update:function(){var d="100%",e;this.overlay.width(d).height("100%");a.browser.msie?(e=Math.max(b.documentElement.offsetWidth,b.body.offsetWidth),k.width()>e&&(d=k.width())):k.width()>r.width()&&(d=k.width());this.overlay.width(d).height(k.height())},
onReady:function(d,e){a(".fancybox-overlay").stop(!0,!0);this.overlay||(this.margin=k.height()>r.height()||"scroll"===a("body").css("overflow-y")?a("body").css("margin-right"):!1,this.el=b.all&&!b.querySelector?a("html"):a("body"),this.create(d));d.locked&&this.fixed&&(e.locked=this.overlay.append(e.wrap),e.fixed=!1);!0===d.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(b,d){d.locked&&(this.el.addClass("fancybox-lock"),!1!==this.margin&&a("body").css("margin-right",t(this.margin)+
d.scrollbarWidth));this.open(b)},onUpdate:function(){this.fixed||this.update()},afterClose:function(b){this.overlay&&!d.isActive&&this.overlay.fadeOut(b.speedOut,a.proxy(this.close,this))}};d.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(b){var e=d.current,k=e.title,f=b.type;a.isFunction(k)&&(k=k.call(e.element,e));if(s(k)&&""!==a.trim(k)){e=a('<div class="fancybox-title fancybox-title-'+f+'-wrap">'+k+"</div>");switch(f){case "inside":f=d.skin;break;case "outside":f=
d.wrap;break;case "over":f=d.inner;break;default:f=d.skin,e.appendTo("body"),a.browser.msie&&e.width(e.width()),e.wrapInner('<span class="child"></span>'),d.current.margin[2]+=Math.abs(t(e.css("margin-bottom")))}e["top"===b.position?"prependTo":"appendTo"](f)}}};a.fn[y]=function(b){var e,n=a(this),f=this.selector||"",r=function(k){var l=a(this).blur(),q=e,r,s;!k.ctrlKey&&(!k.altKey&&!k.shiftKey&&!k.metaKey)&&!l.is(".fancybox-wrap")&&(r=b.groupAttr||"data-fancybox-group",s=l.attr(r),s||(r="rel",s=
l.get(0)[r]),s&&(""!==s&&"nofollow"!==s)&&(l=f.length?a(f):n,l=l.filter("["+r+'="'+s+'"]'),q=l.index(this)),b.index=q,!1!==d.open(l,b)&&k.preventDefault())};b=b||{};e=b.index||0;!f||!1===b.live?n.unbind("click.fb-start").bind("click.fb-start",r):k.undelegate(f,"click.fb-start").delegate(f+":not('.fancybox-item, .fancybox-nav')","click.fb-start",r);this.filter("[data-fancybox-start=1]").trigger("click");return this};k.ready(function(){void 0===a.scrollbarWidth&&(a.scrollbarWidth=function(){var b=a('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),
d=b.children(),d=d.innerWidth()-d.height(99).innerWidth();b.remove();return d});void 0===a.support.fixedPosition&&(a.support.fixedPosition=function(){var b=a('<div style="position:fixed;top:20px;"></div>').appendTo("body"),d=20===b[0].offsetTop||15===b[0].offsetTop;b.remove();return d}());a.extend(d.defaults,{scrollbarWidth:a.scrollbarWidth(),fixed:a.support.fixedPosition,parent:a("body")})})};(function(e){window.CrayonQuickTags=new function(){var b=this;b.init=function(){b.sel='*[id*="crayon_quicktag"],*[class*="crayon_quicktag"]';CrayonTagEditor.bind(b.sel);QTags.addButton("crayon_quicktag","crayon",function(){CrayonTagEditor.showDialog({insert:function(a){QTags.insertContent(a)},select:b.getSelectedText,editor_str:"html",output:"encode"});e(b.sel).removeClass("qt_crayon_highlight")});var a,y=setInterval(function(){a=e(b.sel).first();"undefined"!=typeof a&&clearInterval(y)},100)};b.getSelectedText=
function(){if(0==QTags.instances.length)return null;var a=QTags.instances[0];return a.canvas.value.substring(a.canvas.selectionStart,a.canvas.selectionEnd)}};e(document).ready(function(){CrayonQuickTags.init()})})(jQueryCrayon);(function(e){window.CrayonTagEditor=new function(){var b=this,a=!1,y=!1,r=!1,k,d,u,n,D,s,x,t,z,g=0,h,w,f=null,E="",p=!1,l,q,N,G,B,M,L,I;b.init=function(){l=CrayonTagEditorSettings;q=CrayonSyntaxSettings;N=CrayonUtil};b.bind=function(d){a||(a=!0,b.init());b.loadDialog();e(d).crayonFancybox({href:l.content_css,margin:[40,10,40,10],padding:0,width:690,height:"100%",autoSize:!1,title:"",beforeShow:function(){e(this.outer).prepend(e(l.bar_content))},afterShow:function(){e(l.code_css).focus()},beforeClose:function(){e(l.bar).prepend(e(l.bar_content))},
closeBtn:!1})};b.hide=function(){e.crayonFancybox.close();return!1};b.loadDialog=function(){y||(y=!0,N.initFancybox(),CrayonUtil.getAJAX({action:"crayon-tag-editor",is_admin:q.is_admin},function(a){G=e('<div id="'+l.css+'"></div>');G.appendTo("body").hide();G.html(a);b.setOrigValues();L=G.find(l.submit_css);I=G.find(l.cancel_css);B=e(l.code_css);M=e("#crayon-te-clear");h=function(){var a=M.is(":visible");0<B.val().length&&!a?(M.show(),B.removeClass(q.selected)):0>=B.val().length&&M.hide()};B.keyup(h);
B.change(h);M.click(function(){B.val("");B.removeClass(q.selected);B.focus()});var d=e(l.url_css),c=e(l.url_info_css),f=CrayonTagEditorSettings.extensions;w=function(){0<d.val().length&&!c.is(":visible")?(c.show(),d.removeClass(q.selected)):0>=d.val().length&&c.hide();var a=CrayonUtil.getExt(d.val());if(a){var b=f[a],g=b?b:a,k=CrayonTagEditorSettings.fallback_lang;e(l.lang_css+" option").each(function(){e(this).val()==g&&(k=g)});e(l.lang_css).val(k)}};d.keyup(w);d.change(w);var g=function(){var a=
e(this),c=e(this).attr(q.orig_value);"undefined"==typeof c&&(c="");var d=b.settingValue(a);CrayonUtil.log(a.attr("id")+" value: "+d);var f=null;a.is("input[type=checkbox]")&&(f=a.next("span"));CrayonUtil.log("   >>> "+a.attr("id")+" is "+c+" = "+d);c==d?(a.removeClass(q.changed),f&&f.removeClass(q.changed)):(a.addClass(q.changed),f&&f.addClass(q.changed));b.settingValue(a,d)};e("."+q.setting+"[id]:not(."+q.special+")").each(function(){e(this).change(g);e(this).keyup(g)})}))};b.showDialog=function(a){a=
e.extend({insert:null,edit:null,show:null,hide:b.hide,select:null,editor_str:null,ed:null,node:null,input:null,output:null},a);b.resetSettings();k=a.insert;d=a.edit;u=a.show;n=a.hide;D=a.select;s=a.input;x=a.output;t=a.editor_str;var v=a.node,v=a.node;p=!1;L.unbind();L.click(function(a){b.submitButton();a.preventDefault()});b.setSubmitText(l.submit_add);I.unbind();I.click(function(a){b.hide();a.preventDefault()});if(b.isCrayon(v))if(f=e(v),0!=f.length){E=f.attr("class");a=RegExp("\\b([A-Za-z-]+)"+
l.attr_sep+"(\\S+)","gim");v=a.execAll(E);E=e.trim(E.replace(a,""));a={};for(var c in v){var J=v[c][2];a[v[c][1]]=J}(c=f.attr("title"))&&(a.title=c);(c=f.attr("data-url"))&&(a.url=c);"undefined"!=typeof a.highlight&&(a.highlight="1");p=f.hasClass(l.inline_css);a.inline=p?"1":"0";var m=[];e(l.lang_css+" option").each(function(){var a=e(this).val();a&&m.push(a)});-1==e.inArray(a.lang,m)&&(a.lang=l.fallback_lang);a=b.validate(a);for(var C in a)c=e("#"+q.prefix+C+"."+q.setting),J=a[C],b.settingValue(c,
J),c.change(),c.hasClass(q.special)||(c.addClass(q.changed),c.is("input[type=checkbox]")&&(highlight=c.next("span"),highlight.addClass(q.changed))),CrayonUtil.log("loaded: "+C+":"+J);r=!0;b.setSubmitText(l.submit_edit);C=f.html();"encode"==s?C=CrayonUtil.encode_html(C):"decode"==s&&(C=CrayonUtil.decode_html(C));B.val(C)}else CrayonUtil.log("cannot load currNode of type pre");else D&&B.val(D),r=!1,b.setSubmitText(l.submit_add),f=null,E="";C=e("#"+l.inline_css);C.change(function(){p=e(this).is(":checked");
var a=e("."+l.inline_hide_css),c=e("."+l.inline_hide_only_css),b=[l.mark_css,l.range_css,l.title_css,l.url_css],d;for(d in b){var f=e(b[d]);f.attr("disabled",p)}if(p)for(d in a.hide(),c.hide(),a.closest("tr").hide(),b)f=e(b[d]),f.addClass("crayon-disabled");else for(d in a.show(),c.show(),a.closest("tr").show(),b)f=e(b[d]),f.removeClass("crayon-disabled")});C.change();C=r?l.dialog_title_edit:l.dialog_title_add;e(l.dialog_title_css).html(C);u&&u();B.focus();h();w();z&&(clearInterval(z),g=0);var y=
e("#TB_window");y.hide();var F=function(){y.show();var a=e(window).scrollTop();e(window).scrollTop(a+10);e(window).scrollTop(a-10)};z=setInterval(function(){"undefined"!=typeof y&&!y.hasClass("crayon-te-ajax")&&(y.addClass("crayon-te-ajax"),clearInterval(z),F());100<=g&&(clearInterval(z),F());g++},40)};b.addCrayon=function(){var a=e(l.url_css);if(0==a.val().length&&0==B.val().length)return B.addClass(q.selected),B.focus(),!1;B.removeClass(q.selected);var f=e("#"+l.inline_css);p=0!=f.length&&f.is(":checked");
var c=br_after="";r||(br_after=p?"html"==t?c=" ":"&nbsp;":"html"==t?c=" \n":"<p>&nbsp;</p>");var f=p?"span":"pre",g={},c=c+"<"+f+' class="',a=RegExp("\\b"+l.inline_css+"\\b","gim");p?null==a.exec(E)&&(E+=" "+l.inline_css+" "):E=E.replace(a,"");e("."+q.changed+"[id],."+q.changed+"["+l.data_value+"]").each(function(){var a=e(this).attr("id"),c=e(this).attr(l.data_value),a=N.removePrefixFromID(a);g[a]=c});g.lang=e(l.lang_css).val();a=e(l.mark_css).val();0!=a.length&&!p&&(g.mark=a);a=e(l.range_css).val();
0!=a.length&&!p&&(g.range=a);e(l.hl_css).is(":checked")&&(g.highlight="0");g.decode="true";var g=b.validate(g),h;for(h in g)a=g[h],CrayonUtil.log("add "+h+":"+a),c+=h+l.attr_sep+a+" ";c+=E;c+='" ';p||(h=e(l.title_css).val(),0!=h.length&&(c+='title="'+h+'" '),a=e(l.url_css).val(),0!=a.length&&(c+='data-url="'+a+'" '));h=e(l.code_css).val();"encode"==x?h=CrayonUtil.encode_html(h):"decode"==x&&(h=CrayonUtil.decode_html(h));c+=">"+("undefined"!=typeof h?h:"")+"</"+f+">"+br_after;r&&d?d(c):k&&k(c);return!0};
b.submitButton=function(){CrayonUtil.log("submit");!1!=b.addCrayon()&&b.hideDialog()};b.hideDialog=function(){CrayonUtil.log("hide");n&&n()};b.setOrigValues=function(){e("."+q.setting+"[id]").each(function(){var a=e(this);a.attr(q.orig_value,b.settingValue(a))})};b.resetSettings=function(){CrayonUtil.log("reset");e("."+q.setting).each(function(){var a=e(this);b.settingValue(a,a.attr(q.orig_value));a.change()});B.val("")};b.settingValue=function(a,b){if("undefined"==typeof b)return b=a.is("input[type=checkbox]")?
a.is(":checked")?"true":"false":a.val();if(a.is("input[type=checkbox]")){if("string"==typeof b)if("true"==b||"1"==b)b=!0;else if("false"==b||"0"==b)b=!1;a.prop("checked",b)}else a.val(b);a.attr(l.data_value,b)};b.validate=function(a){var b=["range","mark"],c;for(c in b){var d=b[c];"undefined"!=typeof a[d]&&(a[d]=a[d].replace(/\s/g,""))}return a};b.isCrayon=function(a){return null!=a&&("PRE"==a.nodeName||"SPAN"==a.nodeName&&e(a).hasClass(l.inline_css))};b.elemValue=function(a){var b=null;return b=
a.is("input[type=checkbox]")?a.is(":checked"):a.val()};b.setSubmitText=function(a){L.html(a)}}})(jQueryCrayon);
